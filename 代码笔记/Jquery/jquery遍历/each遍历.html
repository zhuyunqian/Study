<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>each遍历</title>
    <script src="./jquery-3.4.1.js"></script>
</head>
<body>
<div class="title">
    <ul>
        <li>
            <input type="checkbox">地区1
        </li>
        <li>
            <input type="checkbox">地区2
        </li>
    </ul>
</div>
<div class="content">
    <ul>
        <li>
            <input type="checkbox" checked>地区1-1
        </li>
        <li>
            <input type="checkbox">地区1-2
        </li>
        <li>
            <input type="checkbox" checked>地区1-3
        </li>
        <li>
            <input type="checkbox">地区1-4
        </li>
    </ul>
    <ul>
        <li>
            <input type="checkbox" checked>地区2-1
        </li>
        <li>
            <input type="checkbox" checked>地区2-2
        </li>
        <li>
            <input type="checkbox" checked>地区2-3
        </li>
        <li>
            <input type="checkbox">地区2-4
        </li>
    </ul>
</div>

</body>
</html>
<script>


    $.each($('.title li'), function(index,element) {
        $(element).children('input').attr('data-index',index)
        $(element).children('input').click(function() {
            let idx = $(this).data('index');
            if($(this).attr('checked') == 'checked'){
                $(this).removeAttr("checked");
                $('.content ul').eq(idx).hide();
            }else{
                $(this).attr('checked','checked');
                $('.content ul').eq(idx).show();
                
                $.each($('.content ul').eq(idx).children('li'),function (index,element) {
                    $(element).children('input').attr('data-index',index)
                    $(element).children('input').click(function() {
                        if($(this).attr('checked') == 'checked'){
                            $(this).removeAttr("checked");
                        }else{
                            $(this).attr('checked','checked');
                        }
                    })

                    if($(element).children('input').attr('checked') == 'checked'){
                        console.log($(element).html())
                    }
                })
            }
        })
    })

</script>